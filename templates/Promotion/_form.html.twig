{# templates/promotion/_form.html.twig #}
{% if form is defined %}
{{ form_start(form, {'attr': {'class': 'needs-validation', 'novalidate': 'novalidate'}}) }}
    <div class="row g-3">
        {# Champ Code Promo #}
        <div class="col-md-6">
            {{ form_row(form.codePromo, {
                'label': 'Code Promo',
                'attr': {
                    'class': 'form-control',
                    'placeholder': 'Ex: SUMMER25',
                    'minlength': 5,
                    'required': true
                },
                'help': '5 caractères minimum'
            }) }}
        </div>

        {# Champ Valeur Réduction #}
        <div class="col-md-6">
            {{ form_row(form.valeurReduction, {
                'label': 'Réduction (%)',
                'attr': {
                    'class': 'form-control',
                    'min': 0.1,
                    'max': 100,
                    'step': 0.1,
                    'placeholder': 'Ex: 15.5',
                    'required': true,
                    'inputmode': 'decimal'
                },
                'help': 'Entre 0.1% et 100%'
            }) }}
        </div>

        {# Champ Date Début #}
        <div class="col-md-6">
            {{ form_row(form.dateDebut, {
                'label': 'Date de début',
                'widget': 'single_text',
                'html5': true,
                'attr': {
                    'class': 'form-control',
                    'min': "now"|date('Y-m-d'),
                    'required': true
                }
            }) }}
        </div>

        {# Champ Date Fin #}
        <div class="col-md-6">
            {{ form_row(form.dateFin, {
                'label': 'Date de fin',
                'widget': 'single_text',
                'html5': true,
                'attr': {
                    'class': 'form-control',
                    'min': "now"|date('Y-m-d'),
                    'required': true
                }
            }) }}
        </div>

        {# Champ Abonnement #}
        <div class="col-md-12">
            {{ form_row(form.abonnement, {
                'label': 'Abonnement associé',
                'attr': {
                    'class': 'form-select',
                    'required': true
                },
                'placeholder': 'Sélectionnez un abonnement...'
            }) }}
        </div>
    </div>

    {# Boutons de soumission #}
    <div class="mt-4 d-flex justify-content-between">
        <a href="{{ path('app_promotion_index') }}" class="btn btn-outline-secondary">
            <i class="fas fa-arrow-left me-2"></i> Retour
        </a>
        <button type="submit" class="btn btn-primary">
            <i class="fas fa-save me-2"></i> {{ button_label|default('Enregistrer') }}
        </button>
    </div>
{{ form_end(form) }}
{% else %}
    <div class="alert alert-danger">Le formulaire n'est pas disponible</div>
{% endif %}